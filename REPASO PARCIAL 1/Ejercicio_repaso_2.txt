    IMR EQU 21H
    PIO EQU 30H ; POSICION DEL REGISTRO PA

    ORG 40
    DW  GESTOR_F10

    ORG 1000H
MSJ DB ?

    ORG 3000H
GESTOR_F10:
    PUSH AX
    PUSH BX
    MOV DL,0
    MOV BX,OFFSET MSJ  ; CONSIGO LA DIRECCION DE MSJ
    MOV [BX],DH  ; GUARDO EN MSJ EL DIGITO AL AZAR
    MOV AL,1
    INT 7    ;IMPRIMO EL DIGITO RANDOM
    MOV AL,20H
    OUT IMR-1,AL
    POP BX
    POP AX
    IRET

    ORG 2000H
    CLI 
    MOV AL,11111110b  ; ENMASCARO TODO MENOS EL F10
    OUT IMR,AL
    MOV AL,10  ; NUMERO DE VECTOR DEL GESTOR DEL F10
    OUT IMR+3,AL  ; REGISTRO INT0
    MOV DH,'0'  ; EN DH ME GUARDO EL DIGITO AL AZAR
    STI

LAZO:
    CMP DL,0
    JZ FIN
    INC DH
    CMP DH,'9'+1  ; COMPARO CON '9'+1 PARA QUE EL 9 TENGA CHANCE DE SALIR
    JNZ LAZO
    MOV DH,'0'
    JMP LAZO
FIN:
    HLT
    END