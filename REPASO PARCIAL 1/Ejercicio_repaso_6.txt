a)
      PIO EQU 30H ; POSICION DEL REGISTRO PA DE LA PIO


      ORG 3000H


      ORG 1000H
MSJ   DB  "ACTIVADA",10   ; LF = 10 EN ASCII
FIN   DB ?
  
      ORG 2000H
      MOV AL, 0FFH  
      OUT PIO+2, AL  ; CONFIGURO PA COMO ENTRADA (CA = 11111111)
      MOV AL,0
      OUT PIO+3,AL   ; CONFIGURO PB COMO SALIDA (CB = 0)
      MOV BX, OFFSET MSJ
      MOV AH, OFFSET FIN - OFFSET MSJ
      
CHEQUEO_LLAVES:
      IN AL,PIO
      CMP AL,129
      JNZ CHEQUEO_LLAVES
      MOV AL,AH
      INT 7
      JMP CHEQUEO_LLAVES
      
      HLT
      END

b)
      PIO EQU 30H ; POSICION DEL REGISTRO PA DE LA PIO


      ORG 3000H


      ORG 1000H
MSJ   DB  "ACTIVADA",10   ; LF = 10 EN ASCII
FIN   DB ?
  
      ORG 2000H
      MOV AL, 0FFH  
      OUT PIO+2, AL  ; CONFIGURO PA COMO ENTRADA (CA = 11111111)
      MOV AL,0
      OUT PIO+3,AL   ; CONFIGURO PB COMO SALIDA (CB = 0)
      MOV BX, OFFSET MSJ
      MOV AH, OFFSET FIN - OFFSET MSJ

REINICIAR:
      MOV DL,0  ; DL=0 PARA QUE SE IMPRIMA "ACTIVADA"
      
CHEQUEO_LLAVES:
      IN AL,PIO
      CMP AL,129
      JNZ REINICIAR
      CMP DL,0
      JNZ CHEQUEO_LLAVES
      MOV AL,AH  ; COLOCO EN AL LA LONGITUD DE MSJ
      INT 7
      MOV DL,1  ; DL=1 PARA QUE NO SE IMPRIMA "ACTIVADA"
      JMP CHEQUEO_LLAVES  ; SE SALTA A CHEQUEAR EL SIGUIENTE PATRON PARA DETERMINAR SI SIGUE SIENDO EL MISMO 
      ; SI EL PATRON ES IGUAL, NO SE IMPRIMIRA DEBIDO AL JNZ CHEQUEO_LLAVES
      ; SI EL PATRON NO ES EL QUE CORRESPONDE, SE SALTARA A REINICIAR Y, OTRA VEZ, DL=0 PARA QUE SI SE IMPRIMA "ACTIVADA"
      
      HLT
      END